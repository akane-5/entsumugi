<turbo-frame id="content">
  <div class="container mx-auto mt-12">
    <% if @no_results %>
      <div class="flex flex-col items-center justify-center">
        <p class=" text-xl">御朱印の写真がありません<i class="fa-regular fa-face-surprise style="color: #403b45;"></i></p>
        <%= link_to '投稿する', new_post_path, class: 'bg-navy text-white py-2 px-4 mt-6 rounded' %>
      </div>
    <% else %>
      <% @posts.each do |post| %>
        <div class="bg-my_white p-4 w-7/12 h-auto rounded-lg mx-auto mb-4"> <!-- 各投稿をこのdivで囲む -->
          <div class="flex">
            <div class="w-2/5">
              <figure>
                <%= image_tag post.image, alt: "御朱印の写真", class: "w-full h-auto max-h-60 object-cover" %>
              </figure>
            </div>
            <div class="w-3/5 ml-12 mr-4">
              <h2 class="text-xl font-bold mt-2"><%= post.shrine.name %></h2>
              <p class="text-gray-700 mt-4"><%= post.shrine.address %></p>
              <div class="flex mt-4">
                <% post.shrine.shrine_categories.each do |shrine_category| %>
                  <div class="badge 
                    <%= "bg-blue opacity-70" if shrine_category.category.name == '総合運' %>
                    <%= "bg-yellow opacity-70" if shrine_category.category.name == '金運' %>
                    <%= "bg-pink opacity-70" if shrine_category.category.name == '恋愛運' %>
                    <%= "bg-olive opacity-70" if shrine_category.category.name == '健康運' %>
                    <%= "bg-purple opacity-70" if shrine_category.category.name == '仕事・学業運' %>
                    text-black py-3">
                    <%= shrine_category.category.name %>
                  </div>
                <% end %>
              </div>
              <div class="border border-slate-200 bg-gray-50 mt-4 w-full h-12 rounded-lg">
                <p class=""><%= post.body %></p>
              </div>
              <div class="px-2 flex justify-end">
                <p class="text-gray-500 text-end"><%= post.created_at.strftime('%Y/%m/%d') %></p>
              </div>
              <div class="px-6 pt-8 pb-2 flex justify-center">
                <%= link_to '神社詳細ページ', shrine_path(post.shrine), data: { turbo: false } , class: 'bg-btn text-white text-xs py-2 px-4 rounded' %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    <% end %>
    <div class="mt-8 text-center text-xl">
      <%#= paginate @posts %>
    </div>
  </div>
</turbo-frame>
