<% breadcrumb :users_show %>

<div class="bg-background min-h-screen pt-8 pb-12 px-6">
  <div class="">
    <h1 class="text-2xl mt-2 mb-8 text-center">マイページ</h1>

    <!-- メニューバー -->
    <div class="tabs tabs-bordered mb-6 max-w-4xl mx-auto space-x-6" id="menu-tabs">
      <%= link_to "プロフィール", profile_users_path, data: { turbo_frame: "content" }, class: "tab hover:tab-active", id: "tab-profile" %>
      <%= link_to "投稿一覧", my_posts_users_path, data: { turbo_frame: "content" }, class: "tab hover:tab-active tab-active", id: "tab-posts" %>
      <%= link_to "ブックマーク", bookmarks_users_path, data: { turbo_frame: "content" }, class: "tab hover:tab-active", id: "tab-bookmarks" %>
    </div>

    <!-- コンテンツ部分（Turbo Frameで囲む） -->
    <%= turbo_frame_tag "content" do %>
      <!-- 初期表示: 投稿一覧 -->
      <%= render 'profile' %>
    <% end %>
  </div>
</div>

<script>
  document.addEventListener("turbo:load", function() {
    const tabs = document.querySelectorAll("#menu-tabs .tab");

    tabs.forEach(tab => {
      tab.addEventListener("click", function() {
        // すべてのタブからアクティブクラスを削除
        tabs.forEach(t => t.classList.remove("tab-active"));

        // クリックしたタブにアクティブクラスを追加
        this.classList.add("tab-active");
      });
    });
  });
</script>